"use strict";(self.webpackChunkcap_webview=self.webpackChunkcap_webview||[]).push([[531],{7531:(q,c,o)=>{o.r(c),o.d(c,{CableBillComponent:()=>p,CableBillModule:()=>U,CableBillRoutingModule:()=>g});var l=o(2300),t=o(5879),r=o(1896),s=o(6814),d=o(2296),m=o(617);function C(n,B){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("Rs.",e.totalPendingAmount,"/-")}}function A(n,B){1&n&&(t.TgZ(0,"td",18)(1,"p"),t._uU(2,"Paid"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"\u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0ba4\u0bc1"),t.qZA()())}function _(n,B){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"p"),t._uU(3,"UPI ID"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u0baf\u0bc2\u0baa\u0bbf\u0b90 \u0b8e\u0ba3\u0bcd"),t.qZA()(),t.TgZ(6,"td",12)(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p",19),t._uU(10,"(GPay, PhonePe, PayTM and all UPI payments are accepted.)"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(8),t.Oqu(e.paymentInfo.upiId)}}function Z(n,B){1&n&&(t.ynx(0),t.TgZ(1,"tr",20)(2,"td",21)(3,"p",22)(4,"mat-icon",23),t._uU(5,"error"),t.qZA(),t.TgZ(6,"span"),t._uU(7,"Important Note: Please type your name and area while making payment."),t.qZA()()()(),t.TgZ(8,"tr",20)(9,"td",21)(10,"p",22)(11,"mat-icon",23),t._uU(12,"error"),t.qZA(),t.TgZ(13,"span"),t._uU(14,"\u0bae\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0baf \u0b95\u0bc1\u0bb1\u0bbf\u0baa\u0bcd\u0baa\u0bc1: \u0baa\u0ba3\u0bae\u0bcd \u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0baa\u0bcb\u0ba4\u0bc1 \u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0baa\u0bc6\u0baf\u0bb0\u0bc8\u0baf\u0bc1\u0bae\u0bcd \u0b8a\u0bb0\u0bc8\u0baf\u0bc1\u0bae\u0bcd \u0baa\u0ba4\u0bbf\u0bb5\u0bbf\u0b9f\u0bb5\u0bc1\u0bae\u0bcd."),t.qZA()()()(),t.BQk())}function h(n,B){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",7)(2,"div",24)(3,"a",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openUpiUrl())}),t.qZA(),t.TgZ(4,"a",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openGpayUrl())}),t.qZA(),t.TgZ(5,"a",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openPhonePeUrl())}),t.qZA(),t.TgZ(6,"a",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openPaytmUrl())}),t.qZA()()()()}}function x(n,B){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&n){const e=B.$implicit,u=t.oxw(3);t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(u.customer.getCollectionDateStrFormat(e)),t.xp6(2),t.Oqu(u.customer.get(e)),t.xp6(2),t.Oqu(u.customer.getNotes(e))}}function b(n,B){if(1&n&&(t.TgZ(0,"table",29)(1,"tr")(2,"th")(3,"p"),t._uU(4,"Month"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0bae\u0bbe\u0ba4\u0bae\u0bcd"),t.qZA()(),t.TgZ(7,"th")(8,"p"),t._uU(9,"Payment Date"),t.qZA(),t.TgZ(10,"p"),t._uU(11,"\u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0bae\u0bcd \u0ba4\u0bc7\u0ba4\u0bbf"),t.qZA()(),t.TgZ(12,"th")(13,"p"),t._uU(14,"Amount"),t.qZA(),t.TgZ(15,"p"),t._uU(16,"\u0ba4\u0bca\u0b95\u0bc8"),t.qZA()(),t.TgZ(17,"th")(18,"p"),t._uU(19,"Notes"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"\u0b95\u0bc1\u0bb1\u0bbf\u0baa\u0bcd\u0baa\u0bc1\u0b95\u0bcd\u0b95\u0bb3\u0bcd"),t.qZA()()(),t.YNc(22,x,9,4,"tr",30),t.qZA()),2&n){const e=t.oxw(2);t.xp6(22),t.Q6J("ngForOf",e.customer.getMonthsInRange(4))}}function f(n,B){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"p",3),t._uU(2,"Dheeran Enterprise"),t.qZA(),t.TgZ(3,"p",4),t._uU(4,"Cable Bill"),t.qZA(),t.TgZ(5,"table",5)(6,"tr",6)(7,"th",7)(8,"p"),t._uU(9,"Customer Details"),t.qZA(),t.TgZ(10,"p"),t._uU(11,"\u0bb5\u0bbe\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"),t.qZA()()(),t.TgZ(12,"tr")(13,"td")(14,"p"),t._uU(15,"Name"),t.qZA(),t.TgZ(16,"p"),t._uU(17,"\u0baa\u0bc6\u0baf\u0bb0\u0bcd"),t.qZA()(),t.TgZ(18,"td")(19,"p"),t._uU(20),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.qZA()()(),t.TgZ(23,"tr")(24,"td")(25,"p"),t._uU(26,"Area"),t.qZA(),t.TgZ(27,"p"),t._uU(28,"\u0b8a\u0bb0\u0bcd"),t.qZA()(),t.TgZ(29,"td")(30,"p"),t._uU(31),t.qZA(),t.TgZ(32,"p"),t._uU(33),t.qZA()()(),t.TgZ(34,"tr")(35,"td")(36,"p"),t._uU(37,"Mobile"),t.qZA(),t.TgZ(38,"p"),t._uU(39,"\u0bae\u0bca\u0baa\u0bc8\u0bb2\u0bcd"),t.qZA()(),t.TgZ(40,"td"),t._uU(41),t.qZA()(),t.TgZ(42,"tr",8)(43,"td")(44,"p"),t._uU(45,"Customer ID"),t.qZA(),t.TgZ(46,"p"),t._uU(47,"\u0bb5\u0bbe\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0b8e\u0ba3\u0bcd"),t.qZA()(),t.TgZ(48,"td"),t._uU(49),t.qZA()()(),t.TgZ(50,"table")(51,"tr",6)(52,"th",7)(53,"p"),t._uU(54,"Bill Details"),t.qZA(),t.TgZ(55,"p"),t._uU(56,"\u0b95\u0b9f\u0bcd\u0b9f\u0ba3 \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"),t.qZA()()(),t.TgZ(57,"tr")(58,"td")(59,"p"),t._uU(60,"Bill to pay"),t.qZA(),t.TgZ(61,"p"),t._uU(62,"\u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4 \u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bbf\u0baf \u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0bae\u0bcd"),t.qZA()(),t.YNc(63,C,2,1,"td",9),t.YNc(64,A,5,0,"td",10),t.qZA(),t.TgZ(65,"tr")(66,"td")(67,"p"),t._uU(68,"Months"),t.qZA(),t.TgZ(69,"p"),t._uU(70,"\u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd"),t.qZA()(),t.TgZ(71,"td")(72,"p"),t._uU(73),t.qZA(),t.TgZ(74,"p"),t._uU(75),t.qZA()()()(),t.TgZ(76,"table")(77,"tr",6)(78,"th",7)(79,"p"),t._uU(80,"Bank Details"),t.qZA(),t.TgZ(81,"p"),t._uU(82,"\u0bb5\u0b99\u0bcd\u0b95\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"),t.qZA()()(),t.YNc(83,_,11,1,"tr",11),t.TgZ(84,"tr")(85,"td")(86,"p"),t._uU(87,"Banking Name"),t.qZA(),t.TgZ(88,"p"),t._uU(89,"\u0bb5\u0b99\u0bcd\u0b95\u0bbf \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bc1 \u0baa\u0bc6\u0baf\u0bb0\u0bcd"),t.qZA()(),t.TgZ(90,"td",12),t._uU(91),t.qZA()(),t.YNc(92,Z,15,0,"ng-container",11),t.YNc(93,h,7,0,"tr",11),t.qZA(),t.TgZ(94,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showHistory=!i.showHistory)}),t.TgZ(95,"mat-icon"),t._uU(96,"history"),t.qZA(),t._uU(97),t.qZA(),t.YNc(98,b,23,1,"table",14),t.TgZ(99,"p",15),t._uU(100,"Powered by Dheeran Enterprise"),t.qZA(),t.TgZ(101,"p",16),t._uU(102,"HighSpeed BroadBand internet and Cable service provider."),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(20),t.Oqu(e.customer.Name),t.xp6(2),t.Oqu(e.tamilCustomer.Name),t.xp6(9),t.Oqu(e.customer.Area),t.xp6(2),t.Oqu(e.tamilCustomer.Area),t.xp6(8),t.Oqu(e.customer.getMobileNumbers().join(", ")),t.xp6(8),t.Oqu(e.customer.ID),t.xp6(14),t.Q6J("ngIf",e.totalPendingAmount),t.xp6(1),t.Q6J("ngIf",!e.totalPendingAmount),t.xp6(9),t.Oqu(e.pendingMonths),t.xp6(2),t.Oqu(e.pendingMonthsTamil),t.xp6(8),t.Q6J("ngIf",!(null!=e.paymentInfo&&e.paymentInfo.isMerchant)),t.xp6(8),t.Oqu(e.paymentInfo.bankingName),t.xp6(1),t.Q6J("ngIf",!(null!=e.paymentInfo&&e.paymentInfo.isMerchant)),t.xp6(1),t.Q6J("ngIf",null==e.paymentInfo?null:e.paymentInfo.isMerchant),t.xp6(4),t.hij(" ",e.showHistory?"Hide Payment History":"Show Payment History"," "),t.xp6(1),t.Q6J("ngIf",e.showHistory)}}function T(n,B){if(1&n&&(t.TgZ(0,"div",31)(1,"mat-icon",32),t._uU(2,"warning"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.error)}}let p=(()=>{class n extends l.H6{constructor(e){super(),this.route=e,this.customerId="",this.tamilCustomer={Name:"",Area:"",Jan2023:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf 2023",Feb2023:"\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf 2023",Mar2023:"\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd 2023",Apr2023:"\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd 2023",May2023:"\u0bae\u0bc7 2023",Jun2023:"\u0b9c\u0bc2\u0ba9\u0bcd 2023",Jul2023:"\u0b9c\u0bc2\u0bb2\u0bc8 2023",Aug2023:"\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd 2023",Sep2023:"\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2023",Oct2023:"\u0b85\u0b95\u0bcd\u0b9f\u0bcb\u0baa\u0bb0\u0bcd 2023",Nov2023:"\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2023",Dec2023:"\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2023",Jan2024:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf 2024",Feb2024:"\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf 2024",Mar2024:"\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd 2024",Apr2024:"\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd 2024",May2024:"\u0bae\u0bc7 2024",Jun2024:"\u0b9c\u0bc2\u0ba9\u0bcd 2024",Jul2024:"\u0b9c\u0bc2\u0bb2\u0bc8 2024",Aug2024:"\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd 2024",Sep2024:"\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2024",Oct2024:"\u0b85\u0b95\u0bcd\u0b9f\u0bcb\u0baa\u0bb0\u0bcd 2024",Nov2024:"\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2024",Dec2024:"\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd 2024"},this.paymentInfo={},this.showHistory=!1,this.pendingMonths="",this.pendingMonthsTamil="",this.totalPendingAmount=0,this.error=!1}ngOnInit(){this.settingsService.processingText="Fetching details...";try{this.customerId=atob(this.route.snapshot.params?.id),this.apiGSheetDataService.getCableCustomerAndPaymentDetails(this.customerId).subscribe({next:e=>this.initialize(e.customer,e.paymentInfo),error:e=>this.setProcessingError(e)})}catch{this.setProcessingError("Invalid link.")}}initialize(e,u){this.settingsService.metadata.paymentInfo=u,this.paymentInfo=u,this.customer=e,this.utilService.getTranslation([this.customer.Name,this.customer.Area]).subscribe(a=>{this.tamilCustomer.Name=a[0],this.tamilCustomer.Area=a[1]});const i=this.customer.getPendingMonths();this.pendingMonths=i.join(", "),this.pendingMonthsTamil=i.map(a=>this.tamilCustomer[a]||"").join(", "),this.totalPendingAmount=this.customer.getTotalPendingPayment(),this.settingsService.processingText="",console.log(this)}setProcessingError(e){this.error=e,this.settingsService.processingText="",console.log(e)}openUpiUrl(){this.utilService.openUrl(this.customer.upiUrl())}openGpayUrl(){this.utilService.openUrl(this.customer.gpayUrl())}openPhonePeUrl(){this.utilService.openUrl(this.customer.phonePeUrl())}openPaytmUrl(){this.utilService.openUrl(this.customer.paytmUrl())}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(r.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["de-cablebill-preview"]],features:[t.qOj],decls:2,vars:2,consts:[["class","de-f-aligncenter de-f-column",4,"ngIf"],["class","de-f-aligncenter danger-text de-sm-rsmall-nolast",4,"ngIf"],[1,"de-f-aligncenter","de-f-column"],[1,"title","de-p-vbase"],[1,"subtitle"],[1,"details-table"],[1,"de-textalign-center"],["colspan","2"],[1,"de-hide"],["class","pending-amount danger-text bold-text",4,"ngIf"],["class","success-text",4,"ngIf"],[4,"ngIf"],[1,"bold-text"],["mat-raised-button","",1,"de-m-tbase",3,"click"],["class","collection-table",4,"ngIf"],[1,"company-name"],[1,"company-description","de-m-bbase"],[1,"pending-amount","danger-text","bold-text"],[1,"success-text"],[1,"normal-text","hint-text","de-m-tsmall--force"],[1,"disclaimer"],["colspan","2",1,"primary-text"],[1,"de-f-aligncenter"],["color","primary",1,"de-m-rsmall"],[1,"de-f-wrap","de-f-justifycenter"],["id","upipaylink",1,"paylink",3,"click"],["id","gpaylink",1,"paylink",3,"click"],["id","phonepaylink",1,"paylink",3,"click"],["id","paytmlink",1,"paylink",3,"click"],[1,"collection-table"],[4,"ngFor","ngForOf"],[1,"de-f-aligncenter","danger-text","de-sm-rsmall-nolast"],["color","warn"]],template:function(u,i){1&u&&(t.YNc(0,f,103,16,"div",0),t.YNc(1,T,5,1,"div",1)),2&u&&(t.Q6J("ngIf",i.customer),t.xp6(1),t.Q6J("ngIf",i.error))},dependencies:[s.sg,s.O5,d.lW,m.Hw],styles:["[_nghost-%COMP%]{display:block;padding:12px;height:100%;width:100%}","[_nghost-%COMP%]{display:flex;justify-content:center}p[_ngcontent-%COMP%]{margin:0}table[_ngcontent-%COMP%]{border-collapse:collapse;border-color:#dee2e6;display:table;margin:12px 0;max-width:500px;min-width:330px;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#d2d8ff;font-weight:500}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid rgb(222,226,230);border-collapse:collapse;padding:6px}table.details-table[_ngcontent-%COMP%]{border:0px}table.details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:6px}table.details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-bottom:3px}table.collection-table[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{color:#00f;font-size:24px}.subtitle[_ngcontent-%COMP%]{font-size:20px}.company-name[_ngcontent-%COMP%]{color:gray;font-size:14px;font-style:italic;margin:12px 0 6px}.company-description[_ngcontent-%COMP%]{color:gray;font-size:12px;font-style:italic;line-height:12px;margin:0}.disclaimer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-height:24px;min-width:24px}.paylink[_ngcontent-%COMP%]{align-items:center;background-repeat:no-repeat;background-position:center;background-size:contain;border:0px solid black;border-radius:4px;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px;box-sizing:border-box;color:#fff;cursor:pointer;display:flex;font-size:16px;height:50px;justify-content:center;margin:6px;padding:6px 10px;text-decoration:none;width:160px}#upipaylink[_ngcontent-%COMP%]{background-image:url(upi.c8f2e76d945d05a1.png);background-size:70% 55%}#gpaylink[_ngcontent-%COMP%]{background-image:url(gpay.24dd727ba2b5b9fe.png);background-size:85% 55%}#phonepaylink[_ngcontent-%COMP%]{background-image:url(phonepe.b7e288728a0eb4db.png);background-size:81% 68%}#paytmlink[_ngcontent-%COMP%]{background-image:url(paytm.41c2b9eb115a110f.png);background-size:65% 55%}"]})}return n})();const y=[{path:"",component:l.B8,children:[{path:":id",component:p},{path:"**",redirectTo:""}]}];let g=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(y),r.Bz]})}return n})();o(8313);let U=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[l.nC.forChild(),g]})}return n})()}}]);