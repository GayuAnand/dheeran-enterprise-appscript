"use strict";(self.webpackChunkcap_webview=self.webpackChunkcap_webview||[]).push([[128],{2128:(_t,f,s)=>{s.r(f),s.d(f,{CableListComponent:()=>g,CableListModule:()=>gt,CableListRoutingModule:()=>S,CustomerCardComponent:()=>T});var h=s(2104),t=s(5879),x=s(2099),b=s(9653),c=s(6814);function F(o,i){if(1&o&&(t.TgZ(0,"div",6),t._UZ(1,"de-mobile-number",7),t.TgZ(2,"div",6),t._UZ(3,"de-mobile-number",8)(4,"de-mobile-number",9),t.qZA()()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("mobile",e),t.xp6(2),t.Q6J("mobile",e),t.xp6(1),t.Q6J("mobile",e)}}function Z(o,i){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&o){const e=i.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(n.customer.getCollectionDateStrFormat(e)),t.xp6(2),t.Oqu(n.customer.get(e)),t.xp6(2),t.Oqu(n.customer.getSettlementDateStrFormat(e)),t.xp6(2),t.Oqu(n.customer.getNotes(e))}}let T=(()=>{class o extends h.H6{static#t=this.\u0275fac=function(){let e;return function(l){return(e||(e=t.n5z(o)))(l||o)}}();static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["de-customer-card"]],inputs:{customer:"customer"},features:[t.qOj],decls:35,vars:5,consts:[[1,"customer-details"],[3,"text"],[1,"mobile-row"],["class","de-f-aligncenter de-sm-rbase-nolast",4,"ngFor","ngForOf"],[1,"customer-card-wrapper"],[4,"ngFor","ngForOf"],[1,"de-f-aligncenter","de-sm-rbase-nolast"],["displayType","TEXT",3,"mobile"],["displayType","CALL",3,"mobile"],["displayType","WHATSAPP",3,"mobile"]],template:function(n,l){1&n&&(t.TgZ(0,"table",0)(1,"tr")(2,"td"),t._uU(3,"STB:"),t.qZA(),t.TgZ(4,"td"),t._UZ(5,"de-copyable-text",1),t.qZA()(),t.TgZ(6,"tr",2)(7,"td"),t._uU(8,"Mobile:"),t.qZA(),t.TgZ(9,"td"),t.YNc(10,F,5,3,"div",3),t.qZA()(),t.TgZ(11,"tr")(12,"td"),t._uU(13,"Conection On:"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td"),t._uU(18,"Notes:"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA()()(),t.TgZ(21,"div",4)(22,"table")(23,"tr")(24,"th"),t._uU(25,"Month"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Collected"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Amount"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Settled"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Notes"),t.qZA()(),t.YNc(34,Z,11,5,"tr",5),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("text",l.customer.STB),t.xp6(5),t.Q6J("ngForOf",l.customer.getMobileNumbers()),t.xp6(5),t.Oqu(l.customer.getConnectionDate()),t.xp6(5),t.Oqu(l.customer["Own Notes"]||l.customer.Notes),t.xp6(14),t.Q6J("ngForOf",l.customer.getMonthsInOrder()))},dependencies:[x.$,b.D,c.sg],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-wrap:wrap;justify-content:space-between}.detail-section[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-bottom:6px}.detail-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;font-style:italic;padding-right:6px}.detail-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){display:flex}.customer-details[_ngcontent-%COMP%]{width:100%}.customer-details[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{max-width:150px}.customer-card-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:center;width:100%}.customer-card-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;border-color:#dee2e6;display:table;margin-top:12px;margin-bottom:12px;max-width:400px;text-align:center;width:100%}.customer-card-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#d2d8ff;font-weight:500}.customer-card-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .customer-card-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid rgb(222,226,230);border-collapse:collapse;padding:6px}"]})}return o})();var A=s(1896),w=s(7582),v=s(6328),y=s(7398),N=s(298),M=s(3365),r=s(5313),m=s(6825),P=s(2090),E=s(3969),u=s(6223),O=s(3680),L=s(2296),J=s(5986),C=s(9157),D=s(617),Q=s(2032),U=s(2599),q=s(8525);function I(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return l.searchText="",t.KtG(l.onFilterChange())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function B(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",20),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.statusFilter.onSelectionChange())}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function R(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",20),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.areaFilter.onSelectionChange())}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function H(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",20),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(3);return t.KtG(l.agentsFilter.onSelectionChange())}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const p=function(){return{standalone:!0}};function k(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",3)(4,"div",4)(5,"mat-checkbox",5),t.NdJ("ngModelChange",function(l){t.CHM(e);const a=t.oxw(2);return t.KtG(a.agentsFilter.selectAll=l)})("change",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.agentsFilter.toggleSelectAll())}),t._uU(6,"Select All"),t.qZA()(),t.YNc(7,H,2,2,"mat-option",6),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.TKey.COMMON.AGENTS),t.xp6(1),t.Q6J("formControl",e.agentsFilter.control),t.xp6(2),t.Q6J("ngModel",e.agentsFilter.selectAll)("ngModelOptions",t.DdM(5,p)),t.xp6(2),t.Q6J("ngForOf",e.agentsFilter.controlOptions)}}function $(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",20),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.monthsFilter.onSelectionChange())}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function K(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",21)(2,"label"),t._uU(3,"Pending Settlement Filter"),t.qZA(),t.TgZ(4,"mat-slide-toggle",22),t.NdJ("ngModelChange",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.showPendingSettlement=l)})("ngModelChange",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.onFilterChange())}),t._uU(5),t.qZA(),t.YNc(6,k,8,6,"mat-form-field",9),t.qZA(),t.TgZ(7,"div",23)(8,"label"),t._uU(9,"Collection Filter"),t.qZA(),t.TgZ(10,"mat-slide-toggle",24),t.NdJ("ngModelChange",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.showCollectedCustomers=l)})("ngModelChange",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.onFilterChange())}),t._uU(11),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14),t.qZA(),t.TgZ(15,"mat-select",3)(16,"div",4)(17,"mat-checkbox",5),t.NdJ("ngModelChange",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.monthsFilter.selectAll=l)})("change",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.monthsFilter.toggleSelectAll())}),t._uU(18,"Select All"),t.qZA()(),t.YNc(19,$,2,2,"mat-option",6),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.showPendingSettlement)("ngClass",e.authService.hasPermission(e.METADATA.APPS.CABLE,e.METADATA.ROLES.ADMIN)?"":"de-nm--force"),t.xp6(1),t.AsE("",e.TKey.CUSTOMERS.SHOW_PENDING_SETTLEMENT," ",e.showPendingSettlement?"(Rs."+e.pendingSettlementAmount+"/-)":"",""),t.xp6(1),t.Q6J("ngIf",e.authService.hasPermission(e.METADATA.APPS.CABLE,e.METADATA.ROLES.ADMIN)),t.xp6(4),t.Q6J("ngModel",e.showCollectedCustomers),t.xp6(1),t.Oqu(e.showCollectedCustomers?e.TKey.CUSTOMERS.SHOW_COLLECTED:e.TKey.CUSTOMERS.SHOW_PENDING_COLLECTION),t.xp6(3),t.Oqu(e.TKey.COMMON.MONTHS),t.xp6(1),t.Q6J("formControl",e.monthsFilter.control),t.xp6(2),t.Q6J("ngModel",e.monthsFilter.selectAll)("ngModelOptions",t.DdM(12,p)),t.xp6(2),t.Q6J("ngForOf",e.monthsFilter.controlOptions)}}function Y(o,i){if(1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("ngClass","de-f-justifycenter"),t.xp6(1),t.Oqu(e)}}function j(o,i){1&o&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2,"toggle_on"),t.qZA(),t.BQk())}function G(o,i){if(1&o&&(t.ynx(0),t._UZ(1,"de-copyable-text",32),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("text",e[n])}}function z(o,i){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.AsE(" ",e[n]," ",l.showPendingSettlement?"("+e.getPendingSettlement(!0)+")":""," ")}}function W(o,i){if(1&o&&(t.TgZ(0,"div",35),t._UZ(1,"de-copyable-text",32),t.TgZ(2,"div",36),t._UZ(3,"de-mobile-number",37)(4,"de-mobile-number",38),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("text",e),t.xp6(2),t.Q6J("mobile",e),t.xp6(1),t.Q6J("mobile",e)}}function V(o,i){if(1&o&&(t.ynx(0),t.YNc(1,W,5,3,"div",34),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}function X(o,i){if(1&o&&(t.ynx(0),t.YNc(1,V,2,1,"ng-container",33),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.getMobileNumbers())}}function tt(o,i){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(e[n])}}function et(o,i){if(1&o&&(t.TgZ(0,"mat-cell",28),t.ynx(1,29),t.YNc(2,j,3,0,"ng-container",30),t.YNc(3,G,2,1,"ng-container",30),t.YNc(4,z,2,2,"ng-container",30),t.YNc(5,X,2,1,"ng-container",30),t.YNc(6,tt,2,1,"ng-container",31),t.BQk(),t.qZA()),2&o){const e=i.$implicit,n=t.oxw().$implicit,l=t.oxw();t.Q6J("ngClass",l.getCellClassNames(e,n)),t.xp6(1),t.Q6J("ngSwitch",n),t.xp6(1),t.Q6J("ngSwitchCase",null==l.customerColumns||null==l.customerColumns.STATUS?null:l.customerColumns.STATUS.label),t.xp6(1),t.Q6J("ngSwitchCase",null==l.customerColumns||null==l.customerColumns.STB?null:l.customerColumns.STB.label),t.xp6(1),t.Q6J("ngSwitchCase",null==l.customerColumns||null==l.customerColumns.NAME?null:l.customerColumns.NAME.label),t.xp6(1),t.Q6J("ngSwitchCase",null==l.customerColumns||null==l.customerColumns.MOBILE?null:l.customerColumns.MOBILE.label)}}function nt(o,i){1&o&&(t.ynx(0,25),t.YNc(1,Y,2,2,"mat-header-cell",26),t.YNc(2,et,7,6,"mat-cell",27),t.BQk()),2&o&&t.s9C("matColumnDef",i.$implicit)}function ot(o,i){if(1&o&&t._UZ(0,"de-customer-card",41),2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("@detailExpand",e==n.expandedElement?"expanded":"collapsed")("customer",e)}}function lt(o,i){if(1&o&&(t.TgZ(0,"mat-cell",39),t.YNc(1,ot,1,2,"de-customer-card",40),t.qZA()),2&o){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",e!==n.expandedElement?"de-noborder--force":""),t.uIk("colspan",n.displayedColumns.length),t.xp6(1),t.Q6J("ngIf",e===n.expandedElement)}}function it(o,i){1&o&&t._UZ(0,"mat-header-row")}function st(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-row",42),t.NdJ("click",function(){const a=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.expandedElement=_.expandedElement===a?null:a)}),t.qZA()}}function at(o,i){1&o&&t._UZ(0,"mat-row",43)}const rt=function(){return["expandedDetail"]},ct=function(){return[25,50,100,20]};class g extends h.H6{constructor(){super(...arguments),this.data=new r.by([]),this.fullData=[],this.customerColumns=this.settingsService.metadata.sheetsInfo?.CUSTOMERS?.cols,this.allColumns=[this.customerColumns?.NAME?.label||"",this.customerColumns?.AREA?.label||"",this.customerColumns?.MOBILE?.label||"",this.customerColumns?.STB?.label||""],this.displayedColumns=[],this.searchText="",this.statusFilter=this.getNewFilterControl(["Active"],["Active","Inactive"]),this.areaFilter=this.getNewFilterControl([],[]),this.agentsFilter=this.getNewFilterControl([],[]),this.monthsFilter=this.getNewFilterControl([],[]),this.showAdvancedFilters=!1,this.showCollectedCustomers=!1,this.showPendingSettlement=!1,this.pendingSettlementAmount=0,this.cacheInfo=null}ngOnInit(){this.filterArea=this.filterArea.bind(this),this.filterStatus=this.filterStatus.bind(this),this.filterSearch=this.filterSearch.bind(this),this.filterCollection=this.filterCollection.bind(this),this.filterPendingSettlement=this.filterPendingSettlement.bind(this),this._subscriptions.push(this.eventService.isMobile.subscribe(()=>this.refreshDisplayedColumns())),this.settingsService.pageTitle=this.TKey.COMMON.CABLE}ngAfterViewInit(){this.data.paginator=this.paginator,this.refreshDisplayedColumns(),this.refreshData()}ngOnDestroy(){super.ngOnDestroy(),this.cacheInfo?.destroy()}refreshDisplayedColumns(){this.displayedColumns=this.allColumns.slice(0,this.settingsService.isMobile?2:4)}refreshData(i=!1){this.apiGSheetDataService.getSheetData(this.settingsService.metadata.sheetsInfo?.CUSTOMERS.label,P.vj,i).pipe((0,v.b)(e=>this.getRefreshCacheInfo(`SHEET_${this.settingsService.metadata.sheetsInfo?.CUSTOMERS.label}`,this.cacheInfo).pipe((0,y.U)(n=>(this.cacheInfo=n,e))))).subscribe(e=>{this.fullData=e,this.initializeFilters()})}initializeFilters(){const i={};this.fullData.forEach(n=>i[n.Area]=!0),this.areaFilter.controlOptions=Object.keys(i),this.areaFilter.controlOptions.sort(),this.areaFilter.control.setValue([]),this.areaFilter.selectAll=!1,this.monthsFilter.controlOptions=this.fullData[0].getMonthsInOrder();let e={};this.fullData.forEach(n=>e=Object.assign(e,n.getCollectionAgents())),this.agentsFilter.controlOptions=Object.keys(e),this.agentsFilter.controlOptions.sort(),this.authService.hasPermission(this.METADATA.APPS.CABLE,this.METADATA.ROLES.ADMIN)?this.agentsFilter.control.setValue([]):this.agentsFilter.control.setValue([this.authService.user?.Username]),this.onFilterChange()}toggleAdvancedFilters(){this.showAdvancedFilters=!this.showAdvancedFilters,this.showPendingSettlement=!1,this.showCollectedCustomers=!1,this.monthsFilter.control.setValue([]),this.onFilterChange()}onFilterChange(){const i=d=>!0;let e=this.filterArea,n=this.filterStatus,l=this.filterSearch,a=this.filterCollection,_=this.filterPendingSettlement;this.areaFilter._selectedObj={},(this.areaFilter.control.value||[]).forEach(d=>this.areaFilter._selectedObj[d]=!0),this.statusFilter._selectedObj={},(this.statusFilter.control.value||[]).forEach(d=>this.statusFilter._selectedObj[d]=!0),(!this.areaFilter.control.value?.length||(this.areaFilter.control?.value||[]).length===this.areaFilter.controlOptions?.length)&&(e=i),(!this.statusFilter.control.value?.length||(this.statusFilter.control?.value||[]).length===this.statusFilter.controlOptions?.length)&&(n=i),this.searchText||(l=i),(!this.monthsFilter.control.value?.length||(this.monthsFilter.control.value||[]).length===this.monthsFilter.controlOptions?.length)&&(a=i),this.pendingSettlementAmount=0,this.showPendingSettlement?a=i:_=i,this.data.data=this.fullData.filter(e).filter(n).filter(l).filter(a).filter(_),this.showPendingSettlement&&this.data.data.forEach(d=>this.pendingSettlementAmount+=d.getPendingSettlement(!1,this.agentsFilter.control.value))}filterSearch(i){return i.freeTextSearch(this.searchText)}filterArea(i){return this.areaFilter._selectedObj[i.Area]}filterStatus(i){return this.statusFilter._selectedObj.Active&&i.isActive()||this.statusFilter._selectedObj.Inactive&&!i.isActive()}filterCollection(i){const e=this.monthsFilter.control.value||[];return!e.length||e.every(n=>{const l=!!i[n];return l&&this.showCollectedCustomers||!l&&!this.showCollectedCustomers})}filterPendingSettlement(i){return!this.showPendingSettlement||!!i.getPendingSettlement(!1,this.agentsFilter.control.value)}getCellClassNames(i,e){const n=e===this.customerColumns?.NAME?.label||e===this.customerColumns?.AREA?.label?"":"align-center";return`${e===this.customerColumns?.NAME?.label?i.isActive()?"success-text":"danger-text":""} ${n} ${e===this.customerColumns?.MOBILE?.label?"de-f-column":""} ${i===this.expandedElement?"de-noborder--force":""}`}static#t=this.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(g)))(n||g)}}();static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["de-cable-list"]],viewQuery:function(e,n){if(1&e&&t.Gf(M.NW,5),2&e){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},features:[t.qOj],decls:35,vars:27,consts:[[1,"filter-row","de-p-vbase"],["matInput","","type","text",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["multiple","",3,"formControl"],[1,"select-all"],[3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value","click",4,"ngFor","ngForOf"],[1,"advanced-filter-label"],[1,"de-cursorpointer",3,"click"],[4,"ngIf"],[3,"cacheInfo","refresh"],["multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["class","expanded-detail-cell",3,"ngClass",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-ripple","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","expanded-detail-row",4,"matRowDef","matRowDefColumns"],["pageSize","50","showFirstLastButtons","",3,"pageSizeOptions"],["matSuffix","","mat-icon-button","",3,"click"],[3,"value","click"],[1,"pending-settlement-filter"],[3,"ngModel","ngClass","ngModelChange"],[1,"collection-filter"],[3,"ngModel","ngModelChange"],[3,"matColumnDef"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],[3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"text"],[4,"ngFor","ngForOf"],["class","mobile-cell de-sm-rsmall-nolast",4,"ngIf"],[1,"mobile-cell","de-sm-rsmall-nolast"],[1,"de-f-aligncenter","de-sm-rbase-nolast"],["displayType","CALL",3,"mobile"],["displayType","WHATSAPP",3,"mobile"],[1,"expanded-detail-cell",3,"ngClass"],[3,"customer",4,"ngIf"],[3,"customer"],["mat-ripple","",3,"click"],["mat-row","",1,"expanded-detail-row"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",1),t.NdJ("ngModelChange",function(a){return n.searchText=a})("ngModelChange",function(){return n.onFilterChange()}),t.qZA(),t.YNc(5,I,3,0,"button",2),t.qZA(),t.TgZ(6,"mat-form-field")(7,"mat-label"),t._uU(8),t.qZA(),t.TgZ(9,"mat-select",3)(10,"div",4)(11,"mat-checkbox",5),t.NdJ("ngModelChange",function(a){return n.statusFilter.selectAll=a})("change",function(){return n.statusFilter.toggleSelectAll()}),t._uU(12,"Select All"),t.qZA()(),t.YNc(13,B,2,2,"mat-option",6),t.qZA()(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16),t.qZA(),t.TgZ(17,"mat-select",3)(18,"div",4)(19,"mat-checkbox",5),t.NdJ("ngModelChange",function(a){return n.areaFilter.selectAll=a})("change",function(){return n.areaFilter.toggleSelectAll()}),t._uU(20,"Select All"),t.qZA()(),t.YNc(21,R,2,2,"mat-option",6),t.qZA()(),t.TgZ(22,"p",7)(23,"span",8),t.NdJ("click",function(){return n.toggleAdvancedFilters()}),t._uU(24),t.qZA()(),t.YNc(25,K,20,13,"ng-container",9),t.qZA(),t.TgZ(26,"de-refresh-data",10),t.NdJ("refresh",function(){return n.refreshData(!0)}),t.qZA(),t.TgZ(27,"mat-table",11),t.YNc(28,nt,3,1,"ng-container",12),t.ynx(29,13),t.YNc(30,lt,2,3,"mat-cell",14),t.BQk(),t.YNc(31,it,1,0,"mat-header-row",15),t.YNc(32,st,1,0,"mat-row",16),t.YNc(33,at,1,0,"mat-row",17),t.qZA(),t._UZ(34,"mat-paginator",18)),2&e&&(t.xp6(3),t.Oqu(n.TKey.COMMON.SEARCH),t.xp6(1),t.Q6J("ngModel",n.searchText),t.xp6(1),t.Q6J("ngIf",n.searchText),t.xp6(3),t.Oqu(n.TKey.COMMON.STATUS),t.xp6(1),t.Q6J("formControl",n.statusFilter.control),t.xp6(2),t.Q6J("ngModel",n.statusFilter.selectAll)("ngModelOptions",t.DdM(23,p)),t.xp6(2),t.Q6J("ngForOf",n.statusFilter.controlOptions),t.xp6(3),t.Oqu(n.TKey.COMMON.AREA),t.xp6(1),t.Q6J("formControl",n.areaFilter.control),t.xp6(2),t.Q6J("ngModel",n.areaFilter.selectAll)("ngModelOptions",t.DdM(24,p)),t.xp6(2),t.Q6J("ngForOf",n.areaFilter.controlOptions),t.xp6(3),t.Oqu(n.showAdvancedFilters?n.TKey.COMMON.HIDE_ADVANCED_FILTERS:n.TKey.COMMON.SHOW_ADVANCED_FILTERS),t.xp6(1),t.Q6J("ngIf",n.showAdvancedFilters),t.xp6(1),t.Q6J("cacheInfo",n.cacheInfo),t.xp6(1),t.Q6J("dataSource",n.data),t.xp6(1),t.Q6J("ngForOf",n.displayedColumns),t.xp6(3),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(25,rt)),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(26,ct)))},dependencies:[x.$,b.D,E.s,c.mk,c.sg,c.O5,c.RF,c.n9,c.ED,u.Fj,u.JJ,u.On,u.oH,O.ey,L.RK,J.oG,C.KE,C.hX,C.R9,D.Hw,Q.Nt,O.wG,U.Rr,M.NW,q.gD,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,T],styles:["[_nghost-%COMP%]{display:block;padding:12px;height:100%;width:100%}",".filter-row[_ngcontent-%COMP%]   .advanced-filter-label[_ngcontent-%COMP%]{color:var(--primary);justify-content:end;margin-top:6px;margin-bottom:6px;text-decoration:underline;width:100%}.select-all[_ngcontent-%COMP%]{padding:6px}.expanded-detail-row[_ngcontent-%COMP%], .expanded-detail-cell[_ngcontent-%COMP%]{min-height:0px}.collection-filter[_ngcontent-%COMP%], .pending-settlement-filter[_ngcontent-%COMP%]{align-items:flex-start;border:1px solid rgba(0,0,0,.38);border-radius:4px;flex-direction:column;padding:20px;position:relative}.collection-filter[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], .pending-settlement-filter[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{background:#fafafa;color:#0009;font-size:12px;left:12px;padding:0 6px;position:absolute;top:-11px}.collection-filter[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%], .pending-settlement-filter[_ngcontent-%COMP%] > mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:16px}.collection-filter[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .pending-settlement-filter[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%}.mobile-cell[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}"],data:{animation:[(0,m.X$)("detailExpand",[(0,m.SB)("collapsed",(0,m.oB)({height:"0px",minHeight:"0"})),(0,m.SB)("expanded",(0,m.oB)({height:"*"})),(0,m.eR)("expanded <=> collapsed",(0,m.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}(0,w.gn)([(0,N.Ds)(500)],g.prototype,"onFilterChange",null);const mt=[{path:"",component:g},{path:"**",redirectTo:""}];let S=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[A.Bz.forChild(mt),A.Bz]})}return o})();s(7994);let gt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[h.nC.forChild(),S]})}return o})()}}]);